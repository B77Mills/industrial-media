import hasReferrer from "../../exact-target/has-referrer";
import buildPayload from "../../exact-target/build-payload";

$ const { req, res, config } = out.global;
$ const { exactTargetCorrelator: correlator } = res.locals;

<if(hasReferrer(req.query))>
  $ const payload = buildPayload({
    req,
    source: 'browser',
    config,
    correlator,
  });
  <marko-web-browser-component name="ExactTargetTrackReferrer" props={ payload } />
</if>
